version: '3'

services: 
  docker-mysql:
    image: mysql/mysql-server
    environment:
      - MYSQL_ROOT_PASSWORD=password
      - MYSQL_DATABASE=db_example
      - MYSQL_USER=root
      - MYSQL_PASSWORD=password
    ports:
      - 3306:3306
  spring-boot-jpa-docker-webapp:
    image: hunaidspring
    depends_on:
      - docker-mysql
    ports:
      - 9090:9090
  portainer:
    image: portainer/portainer
    command: -H unix:///var/run/docker.sock
    restart: always
    ports:
      - 9000:9000
      - 8000:8000
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - portainer_data:/data
volumes:
  portainer_data: